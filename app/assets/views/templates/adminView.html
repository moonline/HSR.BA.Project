<div class="main" data-region="center" data-layout="flow" data-flow-direction="column" data-align="start">
	<div class="area page admin" data-scroll="y">
		<div class="operationState">
			<span class="messagebox error" data-ng-if="operationState === ApplicationState.failed">Loading of data failed. Maybe server is not available.</span>
			<span class="messagebox pending" data-ng-if="operationState === ApplicationState.pending">Loading ...</span>
			<span class="messagebox saving" data-ng-if="operationState === ApplicationState.saving">Saving ...</span>
		</div>
		<h2>Administration</h2>

		<div class="area accordion">
			<h3>Manage Properties</h3>
			<form>
				<div class="formLine" data-columns="3">
					<label>New property</label>
					<input type="text" name="newTaskPropertyName" data-ng-model="newTaskPropertyName" placeholder="name" />
					<button class="action create" data-ng-click="createTaskProperty(newTaskPropertyName); newTaskPropertyName = '';"
							title="Create a new property">
						<span class="icon big">&#x2b;</span>Add
					</button>
				</div>
				<div class="formLine" data-columns="3">
					<select data-ng-model="toRenameProperty" data-ng-options="taskProperty.name for taskProperty in taskProperties" ></select>
					<input data-ng-disabled="!toRenameProperty" data-ng-model="propertyNewName" placeholder="New name" />
					<button data-ng-disabled="!toRenameProperty" class="action update" title="Changes the name of the property"
							data-ng-click="renameTaskProperty(toRenameProperty, propertyNewName); propertyNewName = ''; toRenameProperty = null;">
						<span class="icon">&#x270E;</span>Rename
					</button>
				</div>
			</form>
		</div>

		<div class="area accordion">
			<h3>Manage RequestTemplates</h3>
			<form>
				<div class="formLine" data-columns="6">
					<label>New Request template</label>
					<textarea name="newRequestTemplateBody" data-ng-model="newRequestTemplateBody" placeholder="request body"></textarea>
					<input type="text" name="newRequestTemplateUrl" data-ng-model="newRequestTemplateUrl" placeholder="Request url (relative)" />
					<select data-ng-model="newRequestTemplatePPT" name="newRequestTemplatePPT"
						data-ng-options="projectPlanningTool.name for projectPlanningTool in projectPlanningTools" ></select>
					<button class="action create" data-ng-click="addRequestTemplate(newRequestTemplatePPT, newRequestTemplateUrl, newRequestTemplateBody); newRequestTemplatePPT = null; newRequestTemplateUrl = ''; newRequestTemplateBody = '';"
							title="Create a new request template">
						<span class="icon big">&#x2b;</span>Add
					</button>
				</div>
				<div class="formLine" data-columns="6">
					<select data-ng-model="toUpdateRequest" data-ng-options="requestTemlate.url for requestTemlate in requestTemplates" ></select>
					<textarea data-ng-disabled="!toUpdateRequest" name="requestTemplateNewBody" data-ng-model="toUpdateRequest.requestBody" placeholder="request body"></textarea>
					<input data-ng-disabled="!toUpdateRequest" type="text" name="requestTemplateNewUrl" data-ng-model="toUpdateRequest.url" placeholder="name" />
					<label><span data-ng-if="toUpdateRequest">{{toUpdateRequest.ppt.name}}</span></label>
					<button data-ng-disabled="!toUpdateRequest" class="action update" title="Update request template"
							data-ng-click="updateRequestTemplate(toUpdateRequest); requestTemplateNewName = ''; requestTemplateNewBody = ''; toUpdateRequest = null;">
						<span class="icon">&#x270E;</span>Update
					</button>
					<button data-ng-disabled="!toUpdateRequest" class="action remove" title="Remove request template"
							data-ng-click="removeRequestTemplate(toUpdateRequest); requestTemplateNewName = ''; requestTemplateNewBody = ''; toUpdateRequest = null;">
						<span class="icon big">&minus;</span>Remove
					</button>
				</div>
			</form>
		</div>

        <div class="area accordion">
            <h3>Manage processors</h3>
            <form>
                <div class="formLine" data-columns="6">
                    <label>New processor</label>
                    <input type="text" name="newProcessorName" data-ng-model="newProcessorName" placeholder="name" />
                    <select data-ng-model="newProcessorProject" name="newProcessorProject"
                            data-ng-options="project.name for project in projects" ></select>
                    <textarea name="newProcessorCode" data-ng-model="newProcessorCode" placeholder="code"></textarea>
                    <button class="action create" data-ng-click="createProcessor(newProcessorName, newProcessorProject, newProcessorCode); newProcessorName = ''; newProcessorProject = ''; newProcessorCode = '';" title="Create a new processor">
                        <span class="icon big">&#x2b;</span>Add
                    </button>
                </div>
                <div class="formLine" data-columns="6">
                    <select data-ng-model="toUpdateProcessor" data-ng-options="processor.name for processor in processors" data-ng-change="showSelectedProcessor()"></select>

                    <input type="text" data-ng-disabled="!toUpdateProcessor" name="processorNewName" data-ng-model="processorNewName" placeholder="name" />
                    <select data-ng-disabled="!toUpdateProcessor" data-ng-model="processorNewProject" name="processorNewProject"
                            data-ng-options="project.name for project in projects" ></select>
                    <textarea data-ng-disabled="!toUpdateProcessor" name="processorNewCode" data-ng-model="processorNewCode" placeholder="code"></textarea>

                    <button data-ng-disabled="!toUpdateProcessor" class="action update" title="Update processor"
                            data-ng-click="updateProcessor(toUpdateProcessor, processorNewName, processorNewProject, processorNewCode); toUpdateProcessor = ''; processorNewName = ''; processorNewProject = ''; processorNewCode = ''; toUpdateProcessor = null;">
                        <span class="icon">&#x270E;</span>Update
                    </button>
                    <button data-ng-disabled="!toUpdateProcessor" class="action remove" title="Remove processor"
                            data-ng-click="removeProcessor(toUpdateProcessor); toUpdateProcessor = null;">
                        <span class="icon big">&minus;</span>Remove
                    </button>
                </div>
            </form>
        </div>

    </div>
</div>